function dragNdrop(e){function t(e){f("start"),h(E,"dragNdrop--stop"),y(E,"dragNdrop--start"),e.preventDefault?e.preventDefault():e.returnValue=!1;var t;t="touches"in e?e.touches[0]:e,z={x:t.pageX||t.clientX,y:t.pageY||t.clientY},o()}function o(){document.addEventListener?(document.addEventListener("mousemove",r,!1),document.addEventListener("touchmove",r,!1),document.addEventListener("mouseup",p,!1),document.addEventListener("touchend",p,!1)):(document.attachEvent("onmousemove",r),document.attachEvent("touchmove",r),document.attachEvent("onmouseup",p),document.attachEvent("touchend",p))}function n(e){var t,o=e.style;R||(o.position="relative"),o.zIndex="999",t=L&&"x"===L||"y"===L?"x"===L?"col-resize":"row-resize":"move",o.cursor=t}function r(e){var t;f("drag"),h(E,"dragNdrop--start"),y(E,"dragNdrop--drag"),b&&m(E,b),(!N&&"9999"!==E.style.zIndex||document.body.style.cursor!==E.style.cursor)&&(E.style.zIndex="9999",document.body.style.cursor=E.style.cursor),"touches"in e?(e.preventDefault(),t=e.touches[0]):t=e,d(E,t,L)}function d(e,t,o){var n={x:t.pageX||t.clientX,y:t.pageY||t.clientY},r={x:n.x-z.x,y:n.y-z.y};z={x:n.x,y:n.y},a(e,r,o)}function a(e,t,o){o&&o!==!1?s(e,t,o):c(e,{x:_.x+t.x,y:_.y+t.y})}function s(e,t,o){"x"===o?c(e,{x:_.x+t.x,y:_.y}):"y"===o?c(e,{x:_.x,y:_.y+t.y}):B&&(c(e,{x:_.x+t.x,y:_.y+t.y}),i(e,o,!1))}function c(e,t){_={x:t.x,y:t.y},R?(e.style.transform="translate3d("+t.x+"px ,"+t.y+"px , 1px)",e.style.webkitTransform="translate3d("+t.x+"px ,"+t.y+"px , 1px)"):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function i(e,t,o){for(var n={x:window.scrollY||document.documentElement.scrollTop,y:window.scrollX||document.documentElement.scrollLeft},r={top:t.getBoundingClientRect().top+n.y,left:t.getBoundingClientRect().left+n.x},d={top:t.offsetHeight,left:t.offsetWidth},a={top:e.getBoundingClientRect().top+n.y,left:e.getBoundingClientRect().left+n.x},s={top:e.offsetHeight,left:e.offsetWidth},c=["top","left","top","left"],i=[],p=0,l=c.length;p<l;p++)p<l/2?a[c[p]]>=r[c[p]]?i.push(!0):(i.push(!1),o||u(e,c[p],r[c[p]]-a[c[p]])):a[c[p]]+s[c[p]]<=r[c[p]]+d[c[p]]?i.push(!0):(i.push(!1),o||u(e,c[p],r[c[p]]+d[c[p]]-(a[c[p]]+s[c[p]])));return!!(i[0]&&i[1]&&i[2]&&i[3])}function u(e,t,o){"top"===t?c(e,{y:_.y+o,x:_.x}):c(e,{y:_.y,x:_.x+o})}function p(){f("stop"),h(E,"dragNdrop--drag"),y(E,"dragNdrop--stop");var e=!1;b&&(e=v(E,b)),w&&w({element:E,dropped:e,dropZones:b,constraints:L,customStyles:N}),l(),N||(document.body.style.cursor="inherit")}function l(){document.addEventListener?(document.removeEventListener("mousemove",r,!1),document.removeEventListener("touchmove",r,!1),document.removeEventListener("mouseup",p,!1),document.removeEventListener("touchend",p,!1)):(document.detachEvent("onmousemove",r),document.detachEvent("touchmove",r),document.detachEvent("onmouseup",p),document.detachEvent("touchend",p))}function m(e,t){h(e,"dragNdrop--dropped"),y(e,"dragNdrop--dropable");for(var o=0;o<t.length;o++){var n=t[o];h(n,"dragNdrop__dropzone--dropped"),y(n,"dragNdrop__dropzone--ready")}}function v(e,t){h(e,"dragNdrop--dropable"),h(e,"dragNdrop--dropped");for(var o=[],n=0;n<t.length;n++){var r=t[n];h(r,"dragNdrop__dropzone--ready"),h(r,"dragNdrop__dropzone--dropped"),i(e,r,!0)&&(f("dropped"),y(e,"dragNdrop--dropped"),y(r,"dragNdrop__dropzone--dropped"),o.push(r))}return o.length>0&&o}function f(e){var t;console.log("check events"),"function"==typeof Event?(console.log("typeof"),t=new Event("dragNdrop:"+e),E.dispatchEvent(t)):(console.log("not typeof"),document.createEvent&&(t=document.createEvent("CustomEvent"),t.initEvent("dragNdrop:"+e,!0,!0),E.dispatchEvent(t)))}function g(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function y(e,t){g(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function h(e,t){if(g(e,t))if(e.classList)e.classList.remove(t);else{var o=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(o," ")}}e?e&&!e.element&&console.log("ERROR: dragNdrop: please provide an element (options.element) that will be made draggable to the function. See reference at: https://github.com/ThibaultJanBeyer/dragNdrop for more info"):console.log("ERROR: dragNdrop: please provide an options object to the function. See reference at: https://github.com/ThibaultJanBeyer/dragNdrop for more info");var x=!1,E=e.element,N=e.customStyles||!1,L=e.constraints||!1,b=e.dropZones||!1,w=e.callback||function(){},R=e.transform||!0,_={x:0,y:0},z={x:0,y:0},B=L&&"string"==typeof L.innerHTML,I=document.createElement("div");I.innerHTML='<!--[if lt IE 9]><i id="ie-version-below-nine"></i><![endif]--><!--[if IE 9]><i id="ie-version-nine"></i><![endif]-->';var T=1==I.getElementsByTagName("i").length;if(T&&(console.log("WARNING: dragNdrop: a browser older than IE 10 detected! "," (use top/left position instead of transform, attachEvent instead of addEventListener and initEvent instead of new Event constructor)"),x=!0,R=!1),y(E,"dragNdrop"),b)for(var C=0,X=b.length;C<X;C++)y(b[C],"dragNdrop__dropzone");document.addEventListener?(E.addEventListener("mousedown",t,!1),E.addEventListener("touchstart",t,!1)):(E.attachEvent("onmousedown",t),E.attachEvent("touchstart",t)),N||n(E)}