function dragNdrop(e){function t(e){f("start"),m(h,"dragNdrop--stop"),y(h,"dragNdrop--start"),e.preventDefault();var t;"touches"in e?(e.preventDefault(),t=e.touches[0]):t=e,R={x:t.pageX,y:t.pageY},document.addEventListener("mousemove",r,!1),document.addEventListener("touchmove",r,!1),document.addEventListener("mouseup",c,!1),document.addEventListener("touchend",c,!1)}function o(e){var t,o=e.style;L||(o.position="relative"),o.zIndex="999",t=N&&"x"===N||"y"===N?"x"===N?"col-resize":"row-resize":"move",o.cursor=t}function r(e){var t;f("drag"),m(h,"dragNdrop--start"),y(h,"dragNdrop--drag"),E&&l(h,E),(!x&&"9999"!==h.style.zIndex||document.body.style.cursor!==h.style.cursor)&&(h.style.zIndex="9999",document.body.style.cursor=h.style.cursor),"touches"in e?(e.preventDefault(),t=e.touches[0]):t=e,n(h,t,N)}function n(e,t,o){var r={x:t.pageX-R.x,y:t.pageY-R.y};R={x:t.pageX,y:t.pageY},d(e,r,o)}function d(e,t,o){o&&o!==!1?s(e,t,o):a(e,{x:b.x+t.x,y:b.y+t.y})}function s(e,t,o){"x"===o?a(e,{x:b.x+t.x,y:b.y}):"y"===o?a(e,{x:b.x,y:b.y+t.y}):z&&(a(e,{x:b.x+t.x,y:b.y+t.y}),i(e,o,!1))}function a(e,t){b={x:t.x,y:t.y},L?(e.style.transform="translate3d("+t.x+"px ,"+t.y+"px , 1px)",e.style.webkitTransform="translate3d("+t.x+"px ,"+t.y+"px , 1px)"):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function i(e,t,o){for(var r={top:t.getBoundingClientRect().top+window.scrollY,left:t.getBoundingClientRect().left+window.scrollX},n={top:t.offsetHeight,left:t.offsetWidth},d={top:e.getBoundingClientRect().top+window.scrollY,left:e.getBoundingClientRect().left+window.scrollX},s={top:e.offsetHeight,left:e.offsetWidth},a=["top","left","top","left"],i=[],c=0,l=a.length;c<l;c++)c<l/2?d[a[c]]>=r[a[c]]?i.push(!0):(i.push(!1),o||p(e,a[c],r[a[c]]-d[a[c]])):d[a[c]]+s[a[c]]<=r[a[c]]+n[a[c]]?i.push(!0):(i.push(!1),o||p(e,a[c],r[a[c]]+n[a[c]]-(d[a[c]]+s[a[c]])));return i.every(function(e){return e===!0})}function p(e,t,o){"top"===t?a(e,{y:b.y+o,x:b.x}):a(e,{y:b.y,x:b.x+o})}function c(){f("stop"),m(h,"dragNdrop--drag"),y(h,"dragNdrop--stop");var e=!1;E&&(e=u(h,E)),w&&w({element:h,dropped:e,dropZones:E,constraints:N,customStyles:x}),document.removeEventListener("mousemove",r,!1),document.removeEventListener("touchmove",r,!1),document.removeEventListener("mouseup",c,!1),document.removeEventListener("touchend",c,!1),x||(document.body.style.cursor="inherit")}function l(e,t){m(e,"dragNdrop--dropped"),y(e,"dragNdrop--dropable");for(var o=0;o<t.length;o++){var r=t[o];m(r,"dragNdrop__dropzone--dropped"),y(r,"dragNdrop__dropzone--ready")}}function u(e,t){function o(e){return!!e&&(s.push(e),!0)}m(e,"dragNdrop--dropable"),m(e,"dragNdrop--dropped");for(var r=[],n=0;n<t.length;n++){var d=t[n];m(d,"dragNdrop__dropzone--ready"),i(e,d,!0)?(f("dropped"),y(e,"dragNdrop--dropped"),y(d,"dragNdrop__dropzone--dropped"),r.push(d)):(m(d,"dragNdrop__dropzone--dropped"),r.push(!1))}var s=[];return!!r.some(o)&&s}function f(e){var t;v?(t=document.createEvent("CustomEvent"),t.initEvent("dragNdrop:"+e,!0,!0)):t=new Event("dragNdrop:"+e),h.dispatchEvent(t)}function g(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function y(e,t){g(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function m(e,t){if(g(e,t))if(e.classList)e.classList.remove(t);else{var o=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(o," ")}}e?e&&!e.element&&console.log("ERROR: dragNdrop: please provide an element (options.element) that will be made draggable to the function. See reference at: https://github.com/ThibaultJanBeyer/dragNdrop for more info"):console.log("ERROR: dragNdrop: please provide an options object to the function. See reference at: https://github.com/ThibaultJanBeyer/dragNdrop for more info");var v=!1,h=e.element,x=e.customStyles||!1,N=e.constraints||!1,E=e.dropZones||!1,w=e.callback||function(){},L=e.transform||!0,b={x:0,y:0},R={x:0,y:0},z=N&&"string"==typeof N.innerHTML,_=document.createElement("div");_.innerHTML='<!--[if lt IE 9]><i id="ie-version-below-nine"></i><![endif]--><!--[if IE 9]><i id="ie-version-nine"></i><![endif]-->';var T=1==_.getElementsByTagName("i").length;if(T&&(console.log("WARNING: dragNdrop: a browser older than IE 10 detected!"),v=!0,L=!1),y(h,"dragNdrop"),E)for(var B=0,I=E.length;B<I;B++)y(E[B],"dragNdrop--dropzone");h.addEventListener("mousedown",t,!1),h.addEventListener("touchstart",t,!1),x||o(h),Array.prototype.some||(Array.prototype.some=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var t=Object(this),o=t.length>>>0,r=arguments.length>=2?arguments[1]:void 0,n=0;n<o;n++)if(n in t&&e.call(r,t[n],n,t))return!0;return!1})}