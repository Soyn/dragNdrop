function dragNdrop(e){function t(e){m("start"),v(h,"dragNdrop--stop"),f(h,"dragNdrop--start"),e.preventDefault();var t;"touches"in e?(e.preventDefault(),t=e.touches[0]):t=e,R={x:t.pageX||t.clientX,y:t.pageY||t.clientY},y?(document.attachEvent("onmousemove",n),document.attachEvent("touchmove",n),document.attachEvent("onmouseup",l),document.attachEvent("touchend",l)):(document.addEventListener("mousemove",n,!1),document.addEventListener("touchmove",n,!1),document.addEventListener("mouseup",l,!1),document.addEventListener("touchend",l,!1))}function o(e){var t,o=e.style;b||(o.position="relative"),o.zIndex="999",t=E&&"x"===E||"y"===E?"x"===E?"col-resize":"row-resize":"move",o.cursor=t}function n(e){var t;m("drag"),v(h,"dragNdrop--start"),f(h,"dragNdrop--drag"),N&&p(h,N),(!x&&"9999"!==h.style.zIndex||document.body.style.cursor!==h.style.cursor)&&(h.style.zIndex="9999",document.body.style.cursor=h.style.cursor),"touches"in e?(e.preventDefault(),t=e.touches[0]):t=e,r(h,t,E)}function r(e,t,o){var n={x:t.pageX||t.clientX,y:t.pageY||t.clientY},r={x:n.x-R.x,y:n.y-R.y};R={x:n.x,y:n.y},d(e,r,o)}function d(e,t,o){o&&o!==!1?s(e,t,o):a(e,{x:w.x+t.x,y:w.y+t.y})}function s(e,t,o){"x"===o?a(e,{x:w.x+t.x,y:w.y}):"y"===o?a(e,{x:w.x,y:w.y+t.y}):_&&(a(e,{x:w.x+t.x,y:w.y+t.y}),c(e,o,!1))}function a(e,t){w={x:t.x,y:t.y},b?(e.style.transform="translate3d("+t.x+"px ,"+t.y+"px , 1px)",e.style.webkitTransform="translate3d("+t.x+"px ,"+t.y+"px , 1px)"):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function c(e,t,o){console.log("isElementInside params: ",e,t,o),console.log("calculations, rect, scroll: ",t.getBoundingClientRect().top,window.scrollY);for(var n={x:window.scrollY||document.documentElement.scrollTop,y:window.scrollX||document.documentElement.scrollLeft},r={top:t.getBoundingClientRect().top+n.y,left:t.getBoundingClientRect().left+n.x},d={top:t.offsetHeight,left:t.offsetWidth},s={top:e.getBoundingClientRect().top+n.y,left:e.getBoundingClientRect().left+n.x},a={top:e.offsetHeight,left:e.offsetWidth},c=["top","left","top","left"],l=[],p=0,u=c.length;p<u;p++)console.log(c[p],s[c[p]],r[c[p]]),p<u/2?s[c[p]]>=r[c[p]]?l.push(!0):(l.push(!1),o||i(e,c[p],r[c[p]]-s[c[p]])):s[c[p]]+a[c[p]]<=r[c[p]]+d[c[p]]?l.push(!0):(l.push(!1),o||i(e,c[p],r[c[p]]+d[c[p]]-(s[c[p]]+a[c[p]])));return console.log(l[0],l[1],l[2],l[3]),!!(l[0]&&l[1]&&l[2]&&l[3])}function i(e,t,o){console.log("putback"),"top"===t?a(e,{y:w.y+o,x:w.x}):a(e,{y:w.y,x:w.x+o})}function l(){m("stop"),v(h,"dragNdrop--drag"),f(h,"dragNdrop--stop");var e=!1;N&&(e=u(h,N)),L&&L({element:h,dropped:e,dropZones:N,constraints:E,customStyles:x}),y?(document.detachEvent("onmousemove",n,!1),document.detachEvent("touchmove",n,!1),document.detachEvent("onmouseup",l,!1),document.detachEvent("touchend",l,!1)):(document.removeEventListener("mousemove",n,!1),document.removeEventListener("touchmove",n,!1),document.removeEventListener("mouseup",l,!1),document.removeEventListener("touchend",l,!1)),x||(document.body.style.cursor="inherit")}function p(e,t){v(e,"dragNdrop--dropped"),f(e,"dragNdrop--dropable");for(var o=0;o<t.length;o++){var n=t[o];v(n,"dragNdrop__dropzone--dropped"),f(n,"dragNdrop__dropzone--ready")}}function u(e,t){v(e,"dragNdrop--dropable"),v(e,"dragNdrop--dropped");for(var o=[],n=0;n<t.length;n++){var r=t[n];v(r,"dragNdrop__dropzone--ready"),v(r,"dragNdrop__dropzone--dropped"),c(e,r,!0)&&(console.log(e,"dropped into",r),m("dropped"),f(e,"dragNdrop--dropped"),f(r,"dragNdrop__dropzone--dropped"),o.push(r))}return o.length>0&&o}function m(e){var t;y?(t=document.createEvent("CustomEvent"),t.initEvent("dragNdrop:"+e,!0,!0)):t=new Event("dragNdrop:"+e),h.dispatchEvent(t)}function g(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function f(e,t){g(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function v(e,t){if(g(e,t))if(e.classList)e.classList.remove(t);else{var o=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(o," ")}}e?e&&!e.element&&console.log("ERROR: dragNdrop: please provide an element (options.element) that will be made draggable to the function. See reference at: https://github.com/ThibaultJanBeyer/dragNdrop for more info"):console.log("ERROR: dragNdrop: please provide an options object to the function. See reference at: https://github.com/ThibaultJanBeyer/dragNdrop for more info");var y=!1,h=e.element,x=e.customStyles||!1,E=e.constraints||!1,N=e.dropZones||!1,L=e.callback||function(){},b=e.transform||!0,w={x:0,y:0},R={x:0,y:0},_=E&&"string"==typeof E.innerHTML,z=document.createElement("div");z.innerHTML='<!--[if lt IE 9]><i id="ie-version-below-nine"></i><![endif]--><!--[if IE 9]><i id="ie-version-nine"></i><![endif]-->';var B=1==z.getElementsByTagName("i").length;if(B&&(console.log("WARNING: dragNdrop: a browser older than IE 10 detected! "," (use top/left position instead of transform, attachEvent instead of addEventListener and initEvent instead of new Event constructor)"),y=!0,b=!1),f(h,"dragNdrop"),N)for(var I=0,T=N.length;I<T;I++)f(N[I],"dragNdrop__dropzone");y?(h.attachEvent("onmousedown",t),h.attachEvent("touchstart",t)):(h.addEventListener("mousedown",t,!1),h.addEventListener("touchstart",t,!1)),x||o(h)}