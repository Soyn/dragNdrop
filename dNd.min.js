function dragNdrop(e){function o(e){console.log("start"),v("start"),h(E,"dragNdrop--stop"),console.log("1"),y(E,"dragNdrop--start"),console.log("2"),e.preventDefault(),console.log("3");var o;"touches"in e?(e.preventDefault(),o=e.touches[0]):o=e,console.log("4"),z={x:o.pageX||o.clientX,y:o.pageY||o.clientY},console.log("5"),t(),console.log("6")}function t(){console.log("addeventlisteners"),!x&&document.addEventListener?(document.addEventListener("mousemove",r,!1),document.addEventListener("touchmove",r,!1),document.addEventListener("mouseup",p,!1),document.addEventListener("touchend",p,!1)):(document.attachEvent("onmousemove",r),document.attachEvent("touchmove",r),document.attachEvent("onmouseup",p),document.attachEvent("touchend",p))}function n(e){var o,t=e.style;R||(t.position="relative"),t.zIndex="999",o=L&&"x"===L||"y"===L?"x"===L?"col-resize":"row-resize":"move",t.cursor=o}function r(e){var o;v("drag"),h(E,"dragNdrop--start"),y(E,"dragNdrop--drag"),b&&g(E,b),(!N&&"9999"!==E.style.zIndex||document.body.style.cursor!==E.style.cursor)&&(E.style.zIndex="9999",document.body.style.cursor=E.style.cursor),"touches"in e?(e.preventDefault(),o=e.touches[0]):o=e,d(E,o,L)}function d(e,o,t){var n={x:o.pageX||o.clientX,y:o.pageY||o.clientY},r={x:n.x-z.x,y:n.y-z.y};z={x:n.x,y:n.y},s(e,r,t)}function s(e,o,t){t&&t!==!1?c(e,o,t):a(e,{x:_.x+o.x,y:_.y+o.y})}function c(e,o,t){"x"===t?a(e,{x:_.x+o.x,y:_.y}):"y"===t?a(e,{x:_.x,y:_.y+o.y}):B&&(a(e,{x:_.x+o.x,y:_.y+o.y}),l(e,t,!1))}function a(e,o){_={x:o.x,y:o.y},R?(e.style.transform="translate3d("+o.x+"px ,"+o.y+"px , 1px)",e.style.webkitTransform="translate3d("+o.x+"px ,"+o.y+"px , 1px)"):(e.style.left=o.x+"px",e.style.top=o.y+"px")}function l(e,o,t){console.log("isElementInside params: ",e,o,t),console.log("calculations, rect, scroll: ",o.getBoundingClientRect().top,window.scrollY);for(var n={x:window.scrollY||document.documentElement.scrollTop,y:window.scrollX||document.documentElement.scrollLeft},r={top:o.getBoundingClientRect().top+n.y,left:o.getBoundingClientRect().left+n.x},d={top:o.offsetHeight,left:o.offsetWidth},s={top:e.getBoundingClientRect().top+n.y,left:e.getBoundingClientRect().left+n.x},c={top:e.offsetHeight,left:e.offsetWidth},a=["top","left","top","left"],l=[],p=0,u=a.length;p<u;p++)console.log(a[p],s[a[p]],r[a[p]]),p<u/2?s[a[p]]>=r[a[p]]?l.push(!0):(l.push(!1),t||i(e,a[p],r[a[p]]-s[a[p]])):s[a[p]]+c[a[p]]<=r[a[p]]+d[a[p]]?l.push(!0):(l.push(!1),t||i(e,a[p],r[a[p]]+d[a[p]]-(s[a[p]]+c[a[p]])));return console.log(l[0],l[1],l[2],l[3]),!!(l[0]&&l[1]&&l[2]&&l[3])}function i(e,o,t){console.log("putback"),"top"===o?a(e,{y:_.y+t,x:_.x}):a(e,{y:_.y,x:_.x+t})}function p(){v("stop"),h(E,"dragNdrop--drag"),y(E,"dragNdrop--stop");var e=!1;b&&(e=m(E,b)),w&&w({element:E,dropped:e,dropZones:b,constraints:L,customStyles:N}),u(),N||(document.body.style.cursor="inherit")}function u(){!x&&document.addEventListener?(document.removeEventListener("mousemove",r,!1),document.removeEventListener("touchmove",r,!1),document.removeEventListener("mouseup",p,!1),document.removeEventListener("touchend",p,!1)):(document.detachEvent("onmousemove",r),document.detachEvent("touchmove",r),document.detachEvent("onmouseup",p),document.detachEvent("touchend",p))}function g(e,o){h(e,"dragNdrop--dropped"),y(e,"dragNdrop--dropable");for(var t=0;t<o.length;t++){var n=o[t];h(n,"dragNdrop__dropzone--dropped"),y(n,"dragNdrop__dropzone--ready")}}function m(e,o){h(e,"dragNdrop--dropable"),h(e,"dragNdrop--dropped");for(var t=[],n=0;n<o.length;n++){var r=o[n];h(r,"dragNdrop__dropzone--ready"),h(r,"dragNdrop__dropzone--dropped"),l(e,r,!0)&&(console.log(e,"dropped into",r),v("dropped"),y(e,"dragNdrop--dropped"),y(r,"dragNdrop__dropzone--dropped"),t.push(r))}return t.length>0&&t}function v(e){console.log("dispatch");var o;console.log("1"),x?(console.log("1b"),document.createEvent&&(console.log("3"),o=document.createEvent("CustomEvent"),console.log("4"),o.initEvent("dragNdrop:"+e,!0,!0),console.log("5"),E.dispatchEvent(o))):(console.log("1a"),o=new Event("dragNdrop:"+e),console.log("2"),E.dispatchEvent(o),console.log("2b")),console.log("dispatched")}function f(e,o){return e.classList?e.classList.contains(o):!!e.className.match(new RegExp("(\\s|^)"+o+"(\\s|$)"))}function y(e,o){f(e,o)||(e.classList?e.classList.add(o):e.className+=" "+o)}function h(e,o){if(f(e,o))if(e.classList)e.classList.remove(o);else{var t=new RegExp("(\\s|^)"+o+"(\\s|$)");e.className=e.className.replace(t," ")}}e?e&&!e.element&&console.log("ERROR: dragNdrop: please provide an element (options.element) that will be made draggable to the function. See reference at: https://github.com/ThibaultJanBeyer/dragNdrop for more info"):console.log("ERROR: dragNdrop: please provide an options object to the function. See reference at: https://github.com/ThibaultJanBeyer/dragNdrop for more info");var x=!1,E=e.element,N=e.customStyles||!1,L=e.constraints||!1,b=e.dropZones||!1,w=e.callback||function(){},R=e.transform||!0,_={x:0,y:0},z={x:0,y:0},B=L&&"string"==typeof L.innerHTML,I=document.createElement("div");I.innerHTML='<!--[if lt IE 9]><i id="ie-version-below-nine"></i><![endif]--><!--[if IE 9]><i id="ie-version-nine"></i><![endif]-->';var T=1==I.getElementsByTagName("i").length;if(T&&(console.log("WARNING: dragNdrop: a browser older than IE 10 detected! "," (use top/left position instead of transform, attachEvent instead of addEventListener and initEvent instead of new Event constructor)"),x=!0,R=!1),y(E,"dragNdrop"),b)for(var C=0,Y=b.length;C<Y;C++)y(b[C],"dragNdrop__dropzone");!x&&document.addEventListener?(E.addEventListener("mousedown",o,!1),E.addEventListener("touchstart",o,!1)):(E.attachEvent("onmousedown",o),E.attachEvent("touchstart",o)),N||n(E)}