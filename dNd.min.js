function dragNdrop(e){function o(e){g("start"),y(x,"dragNdrop--stop"),m(x,"dragNdrop--start"),e.preventDefault();var o;"touches"in e?(e.preventDefault(),o=e.touches[0]):o=e,R={x:o.pageX,y:o.pageY},document.addEventListener("mousemove",n,!1),document.addEventListener("touchmove",n,!1),document.addEventListener("mouseup",p,!1),document.addEventListener("touchend",p,!1)}function t(e){var o,t=e.style;L||(t.position="relative"),t.zIndex="999",o=N&&"x"===N||"y"===N?"x"===N?"col-resize":"row-resize":"move",t.cursor=o}function n(e){var o;g("drag"),y(x,"dragNdrop--start"),m(x,"dragNdrop--drag"),E&&c(x,E),(!h&&"9999"!==x.style.zIndex||document.body.style.cursor!==x.style.cursor)&&(x.style.zIndex="9999",document.body.style.cursor=x.style.cursor),"touches"in e?(e.preventDefault(),o=e.touches[0]):o=e,r(x,o,N)}function r(e,o,t){var n={x:o.pageX-R.x,y:o.pageY-R.y};R={x:o.pageX,y:o.pageY},d(e,n,t)}function d(e,o,t){t&&t!==!1?s(e,o,t):a(e,{x:b.x+o.x,y:b.y+o.y})}function s(e,o,t){"x"===t?a(e,{x:b.x+o.x,y:b.y}):"y"===t?a(e,{x:b.x,y:b.y+o.y}):_&&(a(e,{x:b.x+o.x,y:b.y+o.y}),l(e,t,!1))}function a(e,o){b={x:o.x,y:o.y},L?(e.style.transform="translate3d("+o.x+"px ,"+o.y+"px , 1px)",e.style.webkitTransform="translate3d("+o.x+"px ,"+o.y+"px , 1px)"):(e.style.left=o.x+"px",e.style.top=o.y+"px")}function l(e,o,t){console.log("isElementInside params: ",e,o,t),console.log("calculations, rect, scroll: ",o.getBoundingClientRect().top,window.scrollY);for(var n={x:window.scrollY||document.documentElement.scrollTop,y:window.scrollX||document.documentElement.scrollLeft},r={top:o.getBoundingClientRect().top+n.y,left:o.getBoundingClientRect().left+n.x},d={top:o.offsetHeight,left:o.offsetWidth},s={top:e.getBoundingClientRect().top+window.scrollY,left:e.getBoundingClientRect().left+window.scrollX},a={top:e.offsetHeight,left:e.offsetWidth},l=["top","left","top","left"],p=[],c=0,u=l.length;c<u;c++)console.log(l[c],s[l[c]],r[l[c]]),c<u/2?s[l[c]]>=r[l[c]]?p.push(!0):(p.push(!1),t||i(e,l[c],r[l[c]]-s[l[c]])):s[l[c]]+a[l[c]]<=r[l[c]]+d[l[c]]?p.push(!0):(p.push(!1),t||i(e,l[c],r[l[c]]+d[l[c]]-(s[l[c]]+a[l[c]])));return console.log(p[0],p[1],p[2],p[3]),!!(p[0]&&p[1]&&p[2]&&p[3])}function i(e,o,t){console.log("putback"),"top"===o?a(e,{y:b.y+t,x:b.x}):a(e,{y:b.y,x:b.x+t})}function p(){g("stop"),y(x,"dragNdrop--drag"),m(x,"dragNdrop--stop");var e=!1;E&&(e=u(x,E)),w&&w({element:x,dropped:e,dropZones:E,constraints:N,customStyles:h}),document.removeEventListener("mousemove",n,!1),document.removeEventListener("touchmove",n,!1),document.removeEventListener("mouseup",p,!1),document.removeEventListener("touchend",p,!1),h||(document.body.style.cursor="inherit")}function c(e,o){y(e,"dragNdrop--dropped"),m(e,"dragNdrop--dropable");for(var t=0;t<o.length;t++){var n=o[t];y(n,"dragNdrop__dropzone--dropped"),m(n,"dragNdrop__dropzone--ready")}}function u(e,o){y(e,"dragNdrop--dropable"),y(e,"dragNdrop--dropped");for(var t=[],n=0;n<o.length;n++){var r=o[n];y(r,"dragNdrop__dropzone--ready"),y(r,"dragNdrop__dropzone--dropped"),l(e,r,!0)&&(console.log(e,"dropped into",r),g("dropped"),m(e,"dragNdrop--dropped"),m(r,"dragNdrop__dropzone--dropped"),t.push(r))}return t.length>0&&t}function g(e){var o;v?(o=document.createEvent("CustomEvent"),o.initEvent("dragNdrop:"+e,!0,!0)):o=new Event("dragNdrop:"+e),x.dispatchEvent(o)}function f(e,o){return e.classList?e.classList.contains(o):!!e.className.match(new RegExp("(\\s|^)"+o+"(\\s|$)"))}function m(e,o){f(e,o)||(e.classList?e.classList.add(o):e.className+=" "+o)}function y(e,o){if(f(e,o))if(e.classList)e.classList.remove(o);else{var t=new RegExp("(\\s|^)"+o+"(\\s|$)");e.className=e.className.replace(t," ")}}e?e&&!e.element&&console.log("ERROR: dragNdrop: please provide an element (options.element) that will be made draggable to the function. See reference at: https://github.com/ThibaultJanBeyer/dragNdrop for more info"):console.log("ERROR: dragNdrop: please provide an options object to the function. See reference at: https://github.com/ThibaultJanBeyer/dragNdrop for more info");var v=!1,x=e.element,h=e.customStyles||!1,N=e.constraints||!1,E=e.dropZones||!1,w=e.callback||function(){},L=e.transform||!0,b={x:0,y:0},R={x:0,y:0},_=N&&"string"==typeof N.innerHTML,z=document.createElement("div");z.innerHTML='<!--[if lt IE 9]><i id="ie-version-below-nine"></i><![endif]--><!--[if IE 9]><i id="ie-version-nine"></i><![endif]-->';var B=1==z.getElementsByTagName("i").length;if(B&&(console.log("WARNING: dragNdrop: a browser older than IE 10 detected!"),v=!0,L=!1),m(x,"dragNdrop"),E)for(var I=0,T=E.length;I<T;I++)m(E[I],"dragNdrop__dropzone");x.addEventListener("mousedown",o,!1),x.addEventListener("touchstart",o,!1),h||t(x)}