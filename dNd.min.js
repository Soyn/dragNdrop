function dragNdrop(e){function o(e){f("start"),v(h,"dragNdrop--stop"),g(h,"dragNdrop--start"),e.preventDefault();var o;"touches"in e?(e.preventDefault(),o=e.touches[0]):o=e,R={x:o.pageX,y:o.pageY},document.addEventListener("mousemove",r,!1),document.addEventListener("touchmove",r,!1),document.addEventListener("mouseup",l,!1),document.addEventListener("touchend",l,!1)}function t(e){var o,t=e.style;b||(t.position="relative"),t.zIndex="999",o=N&&"x"===N||"y"===N?"x"===N?"col-resize":"row-resize":"move",t.cursor=o}function r(e){var o;f("drag"),v(h,"dragNdrop--start"),g(h,"dragNdrop--drag"),E&&c(h,E),(!x&&"9999"!==h.style.zIndex||document.body.style.cursor!==h.style.cursor)&&(h.style.zIndex="9999",document.body.style.cursor=h.style.cursor),"touches"in e?(e.preventDefault(),o=e.touches[0]):o=e,n(h,o,N)}function n(e,o,t){var r={x:o.pageX-R.x,y:o.pageY-R.y};R={x:o.pageX,y:o.pageY},d(e,r,t)}function d(e,o,t){t&&t!==!1?s(e,o,t):a(e,{x:L.x+o.x,y:L.y+o.y})}function s(e,o,t){"x"===t?a(e,{x:L.x+o.x,y:L.y}):"y"===t?a(e,{x:L.x,y:L.y+o.y}):z&&(a(e,{x:L.x+o.x,y:L.y+o.y}),i(e,t,!1))}function a(e,o){L={x:o.x,y:o.y},b?(e.style.transform="translate3d("+o.x+"px ,"+o.y+"px , 1px)",e.style.webkitTransform="translate3d("+o.x+"px ,"+o.y+"px , 1px)"):(e.style.left=o.x+"px",e.style.top=o.y+"px")}function i(e,o,t){for(var r={top:o.getBoundingClientRect().top+window.scrollY,left:o.getBoundingClientRect().left+window.scrollX},n={top:o.offsetHeight,left:o.offsetWidth},d={top:e.getBoundingClientRect().top+window.scrollY,left:e.getBoundingClientRect().left+window.scrollX},s={top:e.offsetHeight,left:e.offsetWidth},a=["top","left","top","left"],i=[],l=0,c=a.length;l<c;l++)l<c/2?d[a[l]]>=r[a[l]]?i.push(!0):(i.push(!1),t||p(e,a[l],r[a[l]]-d[a[l]])):d[a[l]]+s[a[l]]<=r[a[l]]+n[a[l]]?i.push(!0):(i.push(!1),t||p(e,a[l],r[a[l]]+n[a[l]]-(d[a[l]]+s[a[l]])));return i.every(function(e){return e===!0})}function p(e,o,t){"top"===o?a(e,{y:L.y+t,x:L.x}):a(e,{y:L.y,x:L.x+t})}function l(){f("stop"),v(h,"dragNdrop--drag"),g(h,"dragNdrop--stop");var e=!1;E&&(e=u(h,E)),w&&w({element:h,dropped:e,dropZones:E,constraints:N,customStyles:x}),document.removeEventListener("mousemove",r,!1),document.removeEventListener("touchmove",r,!1),document.removeEventListener("mouseup",l,!1),document.removeEventListener("touchend",l,!1),x||(document.body.style.cursor="inherit")}function c(e,o){v(e,"dragNdrop--dropped"),g(e,"dragNdrop--dropable");for(var t=0;t<o.length;t++){var r=o[t];v(r,"dragNdrop__dropzone--dropped"),g(r,"dragNdrop__dropzone--ready")}}function u(e,o){function t(e){return!!e&&(s.push(e),!0)}v(e,"dragNdrop--dropable"),v(e,"dragNdrop--dropped");for(var r=[],n=0;n<o.length;n++){var d=o[n];v(d,"dragNdrop__dropzone--ready"),i(e,d,!0)?(f("dropped"),g(e,"dragNdrop--dropped"),g(d,"dragNdrop__dropzone--dropped"),r.push(d)):(v(d,"dragNdrop__dropzone--dropped"),r.push(!1))}var s=[];return!!r.some(t)&&(console.log("some found",s),s)}function f(e){var o;m?(o=document.createEvent("CustomEvent"),o.initEvent("dragNdrop:"+e,!0,!0)):o=new Event("dragNdrop:"+e),h.dispatchEvent(o)}function y(e,o){return e.classList?e.classList.contains(o):!!e.className.match(new RegExp("(\\s|^)"+o+"(\\s|$)"))}function g(e,o){y(e,o)||(e.classList?e.classList.add(o):e.className+=" "+o)}function v(e,o){if(y(e,o))if(e.classList)e.classList.remove(o);else{var t=new RegExp("(\\s|^)"+o+"(\\s|$)");e.className=e.className.replace(t," ")}}e?e&&!e.element&&console.log("ERROR: dragNdrop: please provide an element (options.element) that will be made draggable to the function. See reference at: https://github.com/ThibaultJanBeyer/dragNdrop for more info"):console.log("ERROR: dragNdrop: please provide an options object to the function. See reference at: https://github.com/ThibaultJanBeyer/dragNdrop for more info");var m=!1,h=e.element,x=e.customStyles||!1,N=e.constraints||!1,E=e.dropZones||!1,w=e.callback||function(){},b=e.transform||!0,L={x:0,y:0},R={x:0,y:0},z=N&&"string"==typeof N.innerHTML,A=document.createElement("div");A.innerHTML='<!--[if lt IE 9]><i id="ie-version-below-nine"></i><![endif]--><!--[if IE 9]><i id="ie-version-nine"></i><![endif]-->';var T=1==A.getElementsByTagName("i").length;if(T&&(console.log("WARNING: dragNdrop: a browser older than IE 10 detected!"),m=!0,b=!1),g(h,"dragNdrop"),E)for(var _=0,B=E.length;_<B;_++)g(E[_],"dragNdrop--dropzone");h.addEventListener("mousedown",o,!1),h.addEventListener("touchstart",o,!1),x||t(h),Array.prototype.some||(console.log("WARN: dragNdrop: polyfill for Array.prototype.some used"),Array.prototype.some=function(e){"use strict";if(null===this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var o=Object(this),t=o.length>>>0,r=arguments.length>=2?arguments[1]:void 0,n=0;n<t;n++)if(n in o&&e.call(r,o[n],n,o))return!0;return!1}),Array.prototype.every||(console.log("WARN: dragNdrop: polyfill for Array.prototype.every used"),Array.prototype.every=function(e,o){"use strict";var t,r;if(null==this)throw new TypeError("this is null or not defined");var n=Object(this),d=n.length>>>0;if("function"!=typeof e)throw new TypeError;for(arguments.length>1&&(t=o),r=0;r<d;){var s;if(r in n){s=n[r];var a=e.call(t,s,r,n);if(!a)return!1}r++}return!0})}